# config/i18n.py
from __future__ import annotations

from typing import Dict

SUPPORTED_LANGS = ["no", "sv", "da", "de", "es", "en", "nl", "fr", "it", "uk"]

# Keep keys stable. Add new labels over time.
TR: Dict[str, Dict[str, str]] = {
    "en": {
        "settings.title": "Settings",
        "settings.appearance": "Appearance",
        "settings.ai": "Intelligence & Analytics",
        "settings.system": "System & Data",
        "settings.language_region": "Language & Region",
        "settings.language": "Application language",
        "settings.country": "Country",
        "settings.currency": "Currency",
        "settings.save": "Save",
        "settings.translate_defaults": "Translate default categories & default account",
        "settings.preview": "Preview changes",
        "settings.apply": "Apply changes",
        "common.cancel": "Cancel",
        "common.success": "Success",
        "auth.login": "Login",
        "auth.register": "Register",
        "auth.email": "Email",
        "auth.password": "Password",
        "auth.forgot": "Forgot password?",
    },
    "no": {
        "settings.title": "Innstillinger",
        "settings.appearance": "Utseende",
        "settings.ai": "Intelligens & Analyse",
        "settings.system": "System & Data",
        "settings.language_region": "Språk og region",
        "settings.language": "Språk",
        "settings.country": "Land",
        "settings.currency": "Valuta",
        "settings.save": "Lagre",
        "settings.translate_defaults": "Oversett standardkategorier og standardkonto",
        "settings.preview": "Forhåndsvis endringer",
        "settings.apply": "Bruk endringer",
        "common.cancel": "Avbryt",
        "common.success": "Vellykket",
        "auth.login": "Logg inn",
        "auth.register": "Registrer",
        "auth.email": "E-post",
        "auth.password": "Passord",
        "auth.forgot": "Glemt passord?",
    },
    "sv": {
        "settings.title": "Inställningar",
        "settings.appearance": "Utseende",
        "settings.ai": "Insikter & Analys",
        "settings.system": "System & Data",
        "settings.language_region": "Språk och region",
        "settings.language": "Språk",
        "settings.country": "Land",
        "settings.currency": "Valuta",
        "settings.save": "Spara",
        "settings.translate_defaults": "Översätt standardkategorier och standardkonto",
        "settings.preview": "Förhandsgranska ändringar",
        "settings.apply": "Tillämpa ändringar",
        "common.cancel": "Avbryt",
        "common.success": "Klart",
        "auth.login": "Logga in",
        "auth.register": "Registrera",
        "auth.email": "E-post",
        "auth.password": "Lösenord",
        "auth.forgot": "Glömt lösenord?",
    },
    "da": {
        "settings.title": "Indstillinger",
        "settings.appearance": "Udseende",
        "settings.ai": "Indsigt & Analyse",
        "settings.system": "System & Data",
        "settings.language_region": "Sprog og region",
        "settings.language": "Sprog",
        "settings.country": "Land",
        "settings.currency": "Valuta",
        "settings.save": "Gem",
        "settings.translate_defaults": "Oversæt standardkategorier og standardkonto",
        "settings.preview": "Forhåndsvis ændringer",
        "settings.apply": "Anvend ændringer",
        "common.cancel": "Annuller",
        "common.success": "Færdig",
        "auth.login": "Log ind",
        "auth.register": "Registrer",
        "auth.email": "E-mail",
        "auth.password": "Adgangskode",
        "auth.forgot": "Glemt adgangskode?",
    },
    "de": {
        "settings.title": "Einstellungen",
        "settings.appearance": "Darstellung",
        "settings.ai": "Intelligenz & Analysen",
        "settings.system": "System & Daten",
        "settings.language_region": "Sprache & Region",
        "settings.language": "Sprache",
        "settings.country": "Land",
        "settings.currency": "Währung",
        "settings.save": "Speichern",
        "settings.translate_defaults": "Standardkategorien & Standardkonto übersetzen",
        "settings.preview": "Änderungen ansehen",
        "settings.apply": "Änderungen anwenden",
        "common.cancel": "Abbrechen",
        "common.success": "Erfolgreich",
        "auth.login": "Anmelden",
        "auth.register": "Registrieren",
        "auth.email": "E-Mail",
        "auth.password": "Passwort",
        "auth.forgot": "Passwort vergessen?",
    },
    "es": {
        "settings.title": "Ajustes",
        "settings.appearance": "Apariencia",
        "settings.ai": "Inteligencia y Analíticas",
        "settings.system": "Sistema y Datos",
        "settings.language_region": "Idioma y región",
        "settings.language": "Idioma",
        "settings.country": "País",
        "settings.currency": "Moneda",
        "settings.save": "Guardar",
        "settings.translate_defaults": "Traducir categorías y cuenta por defecto",
        "settings.preview": "Vista previa",
        "settings.apply": "Aplicar cambios",
        "common.cancel": "Cancelar",
        "common.success": "Correcto",
        "auth.login": "Iniciar sesión",
        "auth.register": "Registrar",
        "auth.email": "Email",
        "auth.password": "Contraseña",
        "auth.forgot": "¿Olvidaste la contraseña?",
    },
    "nl": {
        "settings.title": "Instellingen",
        "settings.appearance": "Uiterlijk",
        "settings.ai": "Intelligentie & Analyse",
        "settings.system": "Systeem & Data",
        "settings.language_region": "Taal & regio",
        "settings.language": "Taal",
        "settings.country": "Land",
        "settings.currency": "Valuta",
        "settings.save": "Opslaan",
        "settings.translate_defaults": "Standaardcategorieën en standaardrekening vertalen",
        "settings.preview": "Voorbeeld",
        "settings.apply": "Wijzigingen toepassen",
        "common.cancel": "Annuleren",
        "common.success": "Gelukt",
        "auth.login": "Inloggen",
        "auth.register": "Registreren",
        "auth.email": "E-mail",
        "auth.password": "Wachtwoord",
        "auth.forgot": "Wachtwoord vergeten?",
    },
    "fr": {
        "settings.title": "Paramètres",
        "settings.appearance": "Apparence",
        "settings.ai": "Intelligence & Analyses",
        "settings.system": "Système & Données",
        "settings.language_region": "Langue & région",
        "settings.language": "Langue",
        "settings.country": "Pays",
        "settings.currency": "Devise",
        "settings.save": "Enregistrer",
        "settings.translate_defaults": "Traduire catégories et compte par défaut",
        "settings.preview": "Aperçu",
        "settings.apply": "Appliquer",
        "common.cancel": "Annuler",
        "common.success": "Succès",
        "auth.login": "Connexion",
        "auth.register": "Créer un compte",
        "auth.email": "E-mail",
        "auth.password": "Mot de passe",
        "auth.forgot": "Mot de passe oublié ?",
    },
    "it": {
        "settings.title": "Impostazioni",
        "settings.appearance": "Aspetto",
        "settings.ai": "Intelligenza & Analisi",
        "settings.system": "Sistema & Dati",
        "settings.language_region": "Lingua e regione",
        "settings.language": "Lingua",
        "settings.country": "Paese",
        "settings.currency": "Valuta",
        "settings.save": "Salva",
        "settings.translate_defaults": "Traduci categorie e conto predefinito",
        "settings.preview": "Anteprima",
        "settings.apply": "Applica",
        "common.cancel": "Annulla",
        "common.success": "Fatto",
        "auth.login": "Accedi",
        "auth.register": "Registrati",
        "auth.email": "Email",
        "auth.password": "Password",
        "auth.forgot": "Password dimenticata?",
    },
    "uk": {
        "settings.title": "Налаштування",
        "settings.appearance": "Вигляд",
        "settings.ai": "Аналітика та AI",
        "settings.system": "Система та дані",
        "settings.language_region": "Мова та регіон",
        "settings.language": "Мова",
        "settings.country": "Країна",
        "settings.currency": "Валюта",
        "settings.save": "Зберегти",
        "settings.translate_defaults": "Перекласти стандартні категорії та рахунок",
        "settings.preview": "Попередній перегляд",
        "settings.apply": "Застосувати",
        "common.cancel": "Скасувати",
        "common.success": "Готово",
        "auth.login": "Увійти",
        "auth.register": "Реєстрація",
        "auth.email": "Е-пошта",
        "auth.password": "Пароль",
        "auth.forgot": "Забули пароль?",
    },
}

def t(key: str, lang: str | None = None) -> str:
    lang = (lang or "en").strip().lower()
    if lang not in TR:
        lang = "en"
    return TR.get(lang, {}).get(key, TR["en"].get(key, key))
